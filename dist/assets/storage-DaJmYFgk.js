const r={apiKey:"",targetLang:"ru",model:"gpt-4o-mini",theme:"system",showBackdrop:!1,instantTranslation:!1},n={get:async()=>{if(typeof chrome>"u"||!chrome.storage){const e=localStorage.getItem("tippr_settings");return e?{...r,...JSON.parse(e)}:r}return await chrome.storage.sync.get(r)},set:async t=>{if(typeof chrome>"u"||!chrome.storage){const e=localStorage.getItem("tippr_settings"),s=e?JSON.parse(e):r;localStorage.setItem("tippr_settings",JSON.stringify({...s,...t}));return}await chrome.storage.sync.set(t)},onChange:t=>{if(typeof chrome>"u"||!chrome.storage)return()=>{};const e=(s,o)=>{o==="sync"&&n.get().then(t)};return chrome.storage.onChanged.addListener(e),()=>chrome.storage.onChanged.removeListener(e)}};export{r as D,n as s};
