import{e as c,r as n,j as e,d as x,L as m,M as g,K as N,I as S,B as y,X as M,C,f as z,g as f}from"./Switch-E304tgl6.js";import{s as k}from"./storage-DaJmYFgk.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=c("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=c("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=c("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=c("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=c("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=c("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),I=n.forwardRef(({className:t,...d},a)=>e.jsx("textarea",{className:x("flex min-h-[80px] w-full rounded-xl border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 glass-input resize-none",t),ref:a,...d}));I.displayName="Textarea";const R=({className:t,size:d=24})=>e.jsx("div",{className:x("flex justify-center items-center p-2",t),children:e.jsx(m,{className:"animate-spin text-blue-600",size:d})}),D=()=>{const[t,d]=n.useState(null),[a,p]=n.useState(""),[h,j]=n.useState(!1),[r,i]=n.useState("idle"),[b,o]=n.useState("");n.useEffect(()=>{k.get().then(s=>{d(s),p(s.apiKey)})},[]);const l=async(s,u)=>{if(!t)return;const w={...t,[s]:u};d(w),await k.set({[s]:u})},v=async()=>{if(i("checking"),o(""),!a.trim()){i("invalid"),o("Key cannot be empty");return}try{if(typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage){const s=await chrome.runtime.sendMessage({type:"VALIDATE_API_KEY",payload:{key:a}});s&&s.success?(i("valid"),await l("apiKey",a)):(i("invalid"),o((s==null?void 0:s.error)||"Invalid API Key"))}else setTimeout(()=>{a.startsWith("sk-")?(i("valid"),l("apiKey",a)):(i("invalid"),o("Dev: Key must start with sk-"))},1e3)}catch{i("invalid"),o("Failed to validate key")}};return t?e.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-6 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[e.jsx(g,{size:14})," Appearance"]}),e.jsx("div",{className:"bg-white/50 dark:bg-white/5 rounded-xl p-1 flex gap-1 border border-gray-200 dark:border-white/10",children:["light","dark","system"].map(s=>e.jsxs("button",{onClick:()=>l("theme",s),className:x("flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-medium transition-all duration-200",t.theme===s?"bg-white dark:bg-white/20 text-blue-600 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10"),children:[s==="light"&&e.jsx(K,{size:16}),s==="dark"&&e.jsx(L,{size:16}),s==="system"&&e.jsx(g,{size:16}),e.jsx("span",{className:"capitalize",children:s})]},s))})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[e.jsx(N,{size:14})," AI Configuration"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-foreground dark:text-gray-200",children:"API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{type:h?"text":"password",placeholder:"sk-...",value:a,onChange:s=>{p(s.target.value),i("idle")},className:x("bg-white/50 dark:bg-white/5",r==="invalid"?"border-red-500 focus-visible:ring-red-500":"")}),e.jsx(y,{variant:"outline",size:"icon",onClick:()=>j(!h),className:"shrink-0",children:h?e.jsx("span",{className:"text-xs",children:"Hide"}):e.jsx("span",{className:"text-xs",children:"Show"})})]}),r==="invalid"&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1 animate-in slide-in-from-top-1",children:[e.jsx(M,{size:12})," ",b]}),r==="valid"&&e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1 animate-in slide-in-from-top-1",children:[e.jsx(C,{size:12})," Verified & Saved"]}),e.jsxs(y,{onClick:v,disabled:r==="checking"||!a,className:"w-full",variant:r==="valid"?"outline":"default",children:[r==="checking"&&e.jsx(m,{className:"mr-2 h-4 w-4 animate-spin"}),r==="checking"?"Verifying...":"Verify & Save Key"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-foreground dark:text-gray-200",children:"Model"}),e.jsxs(z,{value:t.model,onChange:s=>l("model",s.target.value),className:"bg-white/50 dark:bg-white/5",children:[e.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o mini (Recommended)"}),e.jsx("option",{value:"gpt-4o",children:"GPT-4o (Best Quality)"}),e.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Legacy)"})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[e.jsx(T,{size:14})," Behavior"]}),e.jsxs("div",{className:"space-y-4 bg-white/30 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-sm font-medium text-foreground dark:text-gray-200",children:"Instant Translation"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Translate immediately on click"})]}),e.jsx(f,{checked:t.instantTranslation,onChange:s=>l("instantTranslation",s.target.checked)})]}),e.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/10"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-sm font-medium text-foreground dark:text-gray-200",children:"Show Backdrop"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Dim background when open"})]}),e.jsx(f,{checked:t.showBackdrop,onChange:s=>l("showBackdrop",s.target.checked)})]})]})]})]}):e.jsx("div",{className:"p-8 flex justify-center",children:e.jsx(m,{className:"animate-spin text-blue-500"})})};export{V as A,E as C,R as L,T as S,I as T,D as a,P as b};
