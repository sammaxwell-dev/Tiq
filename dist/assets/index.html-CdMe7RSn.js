import"./tailwind-CXvjedzL.js";import{e as h,j as e,d as o,r,L as C,B as T,C as _,c as B,R as G}from"./Button-Dlz1g6dN.js";import{L as H,S as D,C as z,a as V}from"./sparkles-Du_GlSm1.js";import{b as R,M,K as F,I as U,X as q,C as Z,S as W,a as I}from"./Input-DldoxaWi.js";import{s as u,h as N}from"./storage-CC_EQv24.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=h("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=h("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=h("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=h("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=h("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=h("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=h("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=h("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),te=({activeTab:s,onTabChange:g,className:n})=>{const m=[{id:"translate",icon:H,label:"Translate"},{id:"history",icon:X,label:"History"},{id:"settings",icon:R,label:"Settings"}];return e.jsx("div",{className:o("flex items-center justify-center gap-1 p-1.5 rounded-full mx-auto w-fit","bg-black/5 dark:bg-white/5 backdrop-blur-xl","border border-black/5 dark:border-white/10","shadow-[0_0_0_1px_rgba(0,0,0,0.03),0_2px_4px_rgba(0,0,0,0.05),0_12px_24px_rgba(0,0,0,0.05)]",n),children:m.map(d=>e.jsxs("button",{onClick:()=>g(d.id),className:o("flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 text-sm font-medium",s===d.id?"bg-black dark:bg-white text-white dark:text-black shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/10"),children:[e.jsx(d.icon,{className:"w-4 h-4"}),e.jsx("span",{className:o("transition-all duration-300",s===d.id?"opacity-100":"opacity-70"),children:d.label})]},d.id))})},ae=()=>{const[s,g]=r.useState(null),[n,m]=r.useState(""),[d,b]=r.useState(!1),[i,l]=r.useState("idle"),[j,x]=r.useState("");r.useEffect(()=>{u.get().then(t=>{g(t),m(t.apiKey)})},[]);const c=async(t,f)=>{if(!s)return;const v={...s,[t]:f};g(v),await u.set({[t]:f})},k=async()=>{if(l("checking"),x(""),!n.trim()){l("invalid"),x("Key cannot be empty");return}try{if(typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage){const t=await chrome.runtime.sendMessage({type:"VALIDATE_API_KEY",payload:{key:n}});t&&t.success?(l("valid"),await c("apiKey",n)):(l("invalid"),x((t==null?void 0:t.error)||"Invalid API Key"))}else setTimeout(()=>{n.startsWith("sk-")?(l("valid"),c("apiKey",n)):(l("invalid"),x("Dev: Key must start with sk-"))},1e3)}catch{l("invalid"),x("Failed to validate key")}};return s?e.jsxs("div",{className:"flex flex-col h-full overflow-y-auto p-6 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[e.jsx(M,{size:14})," Appearance"]}),e.jsx("div",{className:"bg-white/50 dark:bg-white/5 rounded-xl p-1 flex gap-1 border border-gray-200 dark:border-white/10",children:["light","dark","system"].map(t=>e.jsxs("button",{onClick:()=>c("theme",t),className:o("flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-medium transition-all duration-200",s.theme===t?"bg-white dark:bg-white/20 text-blue-600 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10"),children:[t==="light"&&e.jsx(Y,{size:16}),t==="dark"&&e.jsx(Q,{size:16}),t==="system"&&e.jsx(M,{size:16}),e.jsx("span",{className:"capitalize",children:t})]},t))})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[e.jsx(F,{size:14})," AI Configuration"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-foreground dark:text-gray-200",children:"API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{type:d?"text":"password",placeholder:"sk-...",value:n,onChange:t=>{m(t.target.value),l("idle")},className:o("bg-white/50 dark:bg-white/5",i==="invalid"?"border-red-500 focus-visible:ring-red-500":"")}),e.jsx(T,{variant:"outline",size:"icon",onClick:()=>b(!d),className:"shrink-0",children:d?e.jsx("span",{className:"text-xs",children:"Hide"}):e.jsx("span",{className:"text-xs",children:"Show"})})]}),i==="invalid"&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1 animate-in slide-in-from-top-1",children:[e.jsx(q,{size:12})," ",j]}),i==="valid"&&e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1 animate-in slide-in-from-top-1",children:[e.jsx(Z,{size:12})," Verified & Saved"]}),e.jsxs(T,{onClick:k,disabled:i==="checking"||!n,className:"w-full",variant:i==="valid"?"outline":"default",children:[i==="checking"&&e.jsx(C,{className:"mr-2 h-4 w-4 animate-spin"}),i==="checking"?"Verifying...":"Verify & Save Key"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-foreground dark:text-gray-200",children:"Model"}),e.jsxs(W,{value:s.model,onChange:t=>c("model",t.target.value),className:"bg-white/50 dark:bg-white/5",children:[e.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o mini (Recommended)"}),e.jsx("option",{value:"gpt-4o",children:"GPT-4o (Best Quality)"}),e.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Legacy)"})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[e.jsx(D,{size:14})," Behavior"]}),e.jsxs("div",{className:"space-y-4 bg-white/30 dark:bg-white/5 rounded-xl p-4 border border-gray-200 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-sm font-medium text-foreground dark:text-gray-200",children:"Instant Translation"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Translate immediately on click"})]}),e.jsx(I,{checked:s.instantTranslation,onChange:t=>c("instantTranslation",t.target.checked)})]}),e.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/10"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-sm font-medium text-foreground dark:text-gray-200",children:"Show Backdrop"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Dim background when open"})]}),e.jsx(I,{checked:s.showBackdrop,onChange:t=>c("showBackdrop",t.target.checked)})]})]})]})]}):e.jsx("div",{className:"p-8 flex justify-center",children:e.jsx(C,{className:"animate-spin text-blue-500"})})},A=[{code:"en",name:"English",native:"English"},{code:"ru",name:"Russian",native:"Ð ÑƒÑÑÐºÐ¸Ð¹"},{code:"es",name:"Spanish",native:"EspaÃ±ol"},{code:"fr",name:"French",native:"FranÃ§ais"},{code:"de",name:"German",native:"Deutsch"},{code:"it",name:"Italian",native:"Italiano"},{code:"pt",name:"Portuguese",native:"PortuguÃªs"},{code:"zh",name:"Chinese",native:"ä¸­æ–‡"},{code:"ja",name:"Japanese",native:"æ—¥æœ¬èªž"},{code:"ko",name:"Korean",native:"í•œêµ­ì–´"},{code:"ar",name:"Arabic",native:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"},{code:"hi",name:"Hindi",native:"à¤¹à¤¿à¤¨à¥à¤¦à¥€"},{code:"tr",name:"Turkish",native:"TÃ¼rkÃ§e"},{code:"pl",name:"Polish",native:"Polski"},{code:"uk",name:"Ukrainian",native:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°"},{code:"nl",name:"Dutch",native:"Nederlands"},{code:"sv",name:"Swedish",native:"Svenska"},{code:"cs",name:"Czech",native:"ÄŒeÅ¡tina"},{code:"el",name:"Greek",native:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬"},{code:"he",name:"Hebrew",native:"×¢×‘×¨×™×ª"}],se=()=>{const[s,g]=r.useState("translate"),[n,m]=r.useState("ru"),[d,b]=r.useState("inline"),[i,l]=r.useState([]),[j,x]=r.useState(null),[c,k]=r.useState(!1),[t,f]=r.useState(!1);r.useEffect(()=>{u.get().then(a=>{m(a.targetLang),b(a.translateMode),f(!!a.apiKey)}),N.get().then(l)},[]),r.useEffect(()=>{s==="history"&&N.get().then(l)},[s]);const v=i.filter(a=>{const y=new Date;return new Date(a.timestamp).toDateString()===y.toDateString()}).length,w=i.reduce((a,y)=>a+y.sourceText.length,0),E=async a=>{m(a),k(!1),await u.set({targetLang:a})},S=async a=>{b(a),await u.set({translateMode:a})},L=async(a,y)=>{await navigator.clipboard.writeText(a),x(y),setTimeout(()=>x(null),1500)},P=async()=>{await N.clear(),l([])},p=A.find(a=>a.code===n);return e.jsxs("div",{className:"w-[360px] h-[560px] bg-[#fafafa] dark:bg-[#09090b] text-gray-900 dark:text-gray-100 flex flex-col font-sans overflow-hidden",children:[e.jsxs("header",{className:"px-5 pt-5 pb-3 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:"Tippr"}),e.jsxs("div",{className:o("flex items-center gap-1.5 px-2 py-1 rounded-full text-[10px] font-medium",t?"bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400":"bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400"),children:[e.jsx("div",{className:o("w-1.5 h-1.5 rounded-full",t?"bg-emerald-500":"bg-amber-500")}),t?"Ready":"Setup needed"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-20",children:s==="settings"?e.jsx(ae,{}):s==="history"?e.jsxs("div",{className:"space-y-3",children:[i.length>0&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:P,className:"text-xs text-gray-400 hover:text-red-500 transition-colors flex items-center gap-1",children:[e.jsx($,{size:12}),"Clear all"]})}),i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"text-gray-300 dark:text-gray-700 mb-3",children:e.jsx(K,{size:32,strokeWidth:1.5})}),e.jsx("p",{className:"text-sm text-gray-400",children:"No translations yet"})]}):e.jsx("div",{className:"space-y-2",children:i.map(a=>e.jsxs("div",{className:"group p-3 rounded-lg bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10 hover:border-gray-200 dark:hover:border-white/20 transition-colors",children:[e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 line-clamp-1 mb-1",children:a.sourceText}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white line-clamp-2",children:a.translatedText}),e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-gray-50 dark:border-white/5",children:[e.jsxs("span",{className:"text-[10px] text-gray-300 dark:text-gray-600 uppercase tracking-wide",children:["â†’ ",a.targetLang]}),e.jsx("button",{onClick:()=>L(a.translatedText,a.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 dark:hover:bg-white/10 rounded",children:j===a.id?e.jsx(z,{size:12,className:"text-green-500"}):e.jsx(V,{size:12,className:"text-gray-400"})})]})]},a.id))})]}):e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[10px] text-gray-400 dark:text-gray-500 uppercase tracking-wider font-medium mb-1.5 block",children:"Translate to"}),e.jsxs("button",{onClick:()=>k(!c),className:o("w-full flex items-center justify-between px-4 py-3 rounded-xl","bg-white dark:bg-white/5","border border-gray-200 dark:border-white/10","hover:border-gray-300 dark:hover:border-white/20","transition-all duration-200"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-medium",children:p==null?void 0:p.native}),e.jsxs("span",{className:"text-xs text-gray-400",children:["(",p==null?void 0:p.name,")"]})]}),e.jsx(_,{size:16,className:o("text-gray-400 transition-transform duration-200",c&&"rotate-180")})]}),c&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-white dark:bg-[#18181b] border border-gray-200 dark:border-white/10 rounded-xl shadow-lg z-50 max-h-[220px] overflow-y-auto",children:A.map(a=>e.jsxs("button",{onClick:()=>E(a.code),className:o("w-full flex items-center gap-2 px-3 py-2 text-left text-sm","hover:bg-gray-50 dark:hover:bg-white/5","transition-colors",n===a.code&&"bg-gray-50 dark:bg-white/5"),children:[e.jsx("span",{className:"font-medium",children:a.native}),e.jsx("span",{className:"text-xs text-gray-400",children:a.name}),n===a.code&&e.jsx(z,{size:14,className:"ml-auto text-blue-500"})]},a.code))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-gray-400 dark:text-gray-500 uppercase tracking-wider font-medium mb-1.5 block",children:"Mode"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>S("inline"),className:o("flex-1 flex items-center justify-center gap-2 py-2.5 px-3 rounded-lg","border transition-all duration-200","text-sm font-medium",d==="inline"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white":"bg-white dark:bg-transparent text-gray-500 dark:text-gray-400 border-gray-200 dark:border-white/10 hover:border-gray-300 dark:hover:border-white/20"),children:[e.jsx(D,{size:14}),"Inline"]}),e.jsxs("button",{onClick:()=>S("modal"),className:o("flex-1 flex items-center justify-center gap-2 py-2.5 px-3 rounded-lg","border transition-all duration-200","text-sm font-medium",d==="modal"?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white":"bg-white dark:bg-transparent text-gray-500 dark:text-gray-400 border-gray-200 dark:border-white/10 hover:border-gray-300 dark:hover:border-white/20"),children:[e.jsx(K,{size:14}),"Popup"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-blue-500 mb-1",children:[e.jsx(ee,{size:12}),e.jsx("span",{className:"text-[10px] uppercase tracking-wide font-medium",children:"Today"})]}),e.jsx("p",{className:"text-xl font-semibold",children:v})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-purple-500 mb-1",children:[e.jsx(O,{size:12}),e.jsx("span",{className:"text-[10px] uppercase tracking-wide font-medium",children:"Total"})]}),e.jsx("p",{className:"text-xl font-semibold",children:i.length})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-white dark:bg-white/5 border border-gray-100 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-500 mb-1",children:[e.jsx(J,{size:12}),e.jsx("span",{className:"text-[10px] uppercase tracking-wide font-medium",children:"Chars"})]}),e.jsx("p",{className:"text-xl font-semibold",children:w>999?`${(w/1e3).toFixed(1)}k`:w})]})]}),e.jsx("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed",children:["ðŸ’¡ ",e.jsx("span",{className:"font-medium",children:"Tip:"})," Select text on any webpage and click the floating tooltip to translate instantly."]})})]})}),e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:e.jsx(te,{activeTab:s,onTabChange:g})})]})};B.createRoot(document.getElementById("root")).render(e.jsx(G.StrictMode,{children:e.jsx(se,{})}));
